<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Writing Quality Inspector</title>
    <link rel="stylesheet" href="/static/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="background-globes">
        <div class="globe globe-1"></div>
        <div class="globe globe-2"></div>
    </div>

    <div class="container">
        <header>
            <h1>Writing Quality <span class="accent">Inspector</span></h1>
            <p>Strict, rubric-based writing analysis.</p>
        </header>

        <div class="tabs">
            <button class="tab-btn active" onclick="switchTab('analyze')">Analyze</button>
            <button class="tab-btn" onclick="switchTab('improve')">Improve</button>
        </div>

        <!-- ANALYZE SECTION -->
        <main id="analyze-section" class="active-section">
            <div class="card glass">
                <div class="input-group">
                    <label for="analyze-text">Input Text</label>
                    <textarea id="analyze-text" placeholder="Paste your text here to analyze..."></textarea>
                </div>
                
                <div class="controls">
                    <div class="control-item">
                        <label for="purpose">Purpose</label>
                        <select id="purpose">
                            <option value="general">General</option>
                            <option value="academic">Academic</option>
                            <option value="business">Business</option>
                            <option value="creative">Creative</option>
                            <option value="email">Email</option>
                        </select>
                    </div>
                    <div class="control-item checkbox-container">
                        <input type="checkbox" id="strict-mode">
                        <label for="strict-mode">Strict Mode</label>
                    </div>
                    <button class="btn-primary" onclick="analyzeText()">Analyze Text</button>
                </div>
            </div>

            <div id="analyze-results" class="results-container hidden">
                <div class="score-grid">
                    <div class="score-card glass">
                        <h3>Overall</h3>
                        <div class="big-score" id="score-overall">--</div>
                    </div>
                    <div class="score-card glass">
                        <h3>Clarity</h3>
                        <div class="mini-score" id="score-clarity">--</div>
                    </div>
                    <div class="score-card glass">
                        <h3>Coherence</h3>
                        <div class="mini-score" id="score-coherence">--</div>
                    </div>
                    <div class="score-card glass">
                        <h3>Grammar</h3>
                        <div class="mini-score" id="score-grammar">--</div>
                    </div>
                    <div class="score-card glass">
                        <h3>Tone</h3>
                        <div class="mini-score" id="score-tone">--</div>
                    </div>
                </div>

                <div class="card glass mt-4">
                    <h3>Analysis Summary</h3>
                    <p id="analysis-summary" class="result-text">...</p>
                    
                    <div class="lists-container">
                        <div class="list-box">
                            <h4>Strengths</h4>
                            <ul id="list-strengths"></ul>
                        </div>
                        <div class="list-box">
                            <h4>Weaknesses</h4>
                            <ul id="list-weaknesses"></ul>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- IMPROVE SECTION -->
        <main id="improve-section" class="hidden-section">
            <div class="card glass">
                <div class="input-group">
                    <label for="improve-text">Input Text</label>
                    <textarea id="improve-text" placeholder="Paste text to improve..."></textarea>
                </div>

                <div class="controls">
                    <div class="control-item full-width">
                        <label>Focus Areas</label>
                        <div class="checkbox-group">
                            <label><input type="checkbox" value="clarity" checked> Clarity</label>
                            <label><input type="checkbox" value="grammar"> Grammar</label>
                            <label><input type="checkbox" value="verbosity"> Conciseness</label>
                            <label><input type="checkbox" value="tone_consistency"> Tone</label>
                        </div>
                    </div>
                    <button class="btn-primary" onclick="improveText()">Improve Text</button>
                </div>
            </div>

            <div id="improve-results" class="results-container hidden">
                <div class="card glass">
                    <h3>Improved Text</h3>
                    <div id="improved-text-output" class="result-box"></div>
                </div>
                
                <div class="card glass mt-4">
                    <h3>Changes Made</h3>
                    <ul id="list-changes"></ul>
                    <h3>Why?</h3>
                    <p id="improve-explanation"></p>
                </div>
            </div>
        </main>
    </div>

    <script src="/static/script.js"></script>
</body>
</html>
